<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Card Game</title>
  </head>
  <body>
    <button onclick="repartirManoClickHandler()" style="cursor: pointer">
      Repartir mano
    </button>
    <div id="modelo"></div>

    <script type="module">
      import { repartirManoAJugador } from "./repartir.js";
      import { inicializarModeloBaraja, inicializarModeloJugadores } from "./modelos.js";
      import { pintarModeloBaraja, pintarModeloJugadores } from "./pintar.js";

      // 0 treboles, 1 corazones, 2 picas, 3 rombos
      const PALOS = 4;
      // 13 cartas por palo [A,2,3,4,5,6,7,8,9,J,Q,K]
      const NUM_CARTAS_POR_PALO = 13;
      const JUGADORES = 3;
      const CARTAS_POR_JUGADOR = 5;

      function repartirManoClickHandler() {
        for (let i = 0; i < JUGADORES; i++) {
          repartirManoAJugador(
            CARTAS_POR_JUGADOR,
            modeloBaraja,
            modeloJugadores,
            i
          );
        }
        //pintarModeloBaraja(modeloBaraja);
        pintarModeloJugadores(modeloJugadores);
      }
      window.repartirManoClickHandler = repartirManoClickHandler;
      const modeloBaraja = inicializarModeloBaraja(PALOS, NUM_CARTAS_POR_PALO);
      const modeloJugadores = inicializarModeloJugadores(
        JUGADORES,
        CARTAS_POR_JUGADOR
      );
    </script>
  </body>
</html>
